<!doctype html>
<html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, intial-scale=1">
<title>Custom Coding</title>
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/style.css">


</head>

<body>
    <header>
        <h2 href="#">Auth-Project</h2>
        <nav id="navbar">
            <li><a href="/">Main</a> </li>
            <li><a href="/auth/user/login">Login</a> </li>
            <li><a href="/auth/user/signup">Signup</a> </li>
            <li><a href="/auth/forgot-password">Forgot Password</a> </li>
            <li><a href="/auth/secret">Protected Route</a> </li>


        </nav>
    </header>

    <section class="hero">
        <div class="background-image"
            style="background-image: url(https://wallpaper-house.com/data/out/7/wallpaper2you_139824.jpg)"></div>
        <div class="hero-content-area">
            <h1>Auth-Project</h1>
            <h3> Unmissable Adventure Tours Around the World</h3>
            <a href="/auth/user/login" class="btn">Login</a>
        </div>

    </section>

    <section class="destinations">
        <h3 class="title">Technologies Used:</h3>
        <ul>
            <li>NodeJS</li>
            <li>Express</li>
            <li>MongoDB</li>
            <li>OAuth</li>
            <li>SMTP</li>
            <li>AWS</li>
        </ul>

    </section>







    <section class="contact">
        <h3 class="title">Join our newsletter</h3>
        <hr>

        <form>
            <input type="email" placeholder="Email">
            <a href="#" class="btn">Subscribe now</a>
        </form>
    </section>

    <footer>
        <ul>
            <li><a href="#"><i class="fa fa-twitter-square"></i></a></li>
            <li><a href="#"><i class="fa fa-facebook-square"></i></a></li>
            <li><a href="#"><i class="fa fa-snapchat-square"></i></a></li>
            <li><a href="#"><i class="fa fa-pinterest-square"></i></a></li>
            <li><a href="#"><i class="fa fa-github-square"></i></a></li>
        </ul>
    </footer>

</body>

</html>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>


<script>
    const token = localStorage.getItem("token");
    axios.get('/auth/secret-api',{
        headers: {
            "Authorization" : `${token}`
        }
    })
    .then((response)=>{
        console.log(response);
        document.getElementById('navbar').innerHTML = `
            <li><a href="/">Main</a> </li>
            <li><a href="/auth/secret">Protected Route</a> </li>
            <li><a href="#" onclick="logout()">Logout</a> </li>
        `;
        // document.getElementById('hello').innerHTML = response.data.message;
    })


    const logout = () =>{
        event.preventDefault();

        localStorage.removeItem('token');
        window.location.reload()

    }
</script>